import random
from colorama import Fore, Style

# List of pre-organized words
word_list = ["python", "hangman", "programming", "developer", "learning", "challenge", "colorful"]

def choose_word():
    """Choose a random word from the word list."""
    return random.choice(word_list)

def display_word(word, guessed_letters):
    """Display the word with correctly guessed letters and underscores for unknown letters."""
    display = ""
    for letter in word:
        if letter in guessed_letters:
            display += letter + " "
        else:
            display += "_ "
    return display.strip()

def main():
    """Main function to run the Hangman game."""
    print(Fore.BLUE + "Welcome to Hangman!" + Style.RESET_ALL)

    word_to_guess = choose_word()
    guessed_letters = set()
    incorrect_guesses = 0
    max_incorrect_guesses = 6  # Set the maximum number of incorrect guesses

    while incorrect_guesses < max_incorrect_guesses:
        print("\n" + display_word(word_to_guess, guessed_letters))

        guess = input("Guess a letter: ").lower()

        # Check if the input is a single letter
        if len(guess) == 1 and guess.isalpha():
            # Check if the letter has already been guessed
            if guess in guessed_letters:
                print(Fore.YELLOW + "You've already guessed that letter. Try again." + Style.RESET_ALL)
            elif guess in word_to_guess:
                print(Fore.GREEN + "Correct guess!" + Style.RESET_ALL)
                guessed_letters.add(guess)
            else:
                print(Fore.RED + "Incorrect guess." + Style.RESET_ALL)
                incorrect_guesses += 1
        else:
            print(Fore.YELLOW + "Please enter a single letter." + Style.RESET_ALL)

        # Check if the word has been guessed
        if all(letter in guessed_letters for letter in word_to_guess):
            print("\n" + display_word(word_to_guess, guessed_letters))
            print(Fore.GREEN + "Congratulations! You've guessed the word: " + word_to_guess + Style.RESET_ALL)
            break

    else:
        print(Fore.RED + "Sorry, you've run out of attempts. The correct word was: " + word_to_guess + Style.RESET_ALL)

if __name__ == "__main__":
    main()
